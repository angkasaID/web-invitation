<!DOCTYPE html><html lang="id" data-astro-cid-kqx5um5x> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Dashboard Admin</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer"><link rel="stylesheet" href="/_astro/index.BMP1MD8U.css">
<style>:root{--card: #0f1724;--muted: #9aa4b2;--accent: #d1b09b;--accent-600: #b89374;--success: #16a34a}html,body{height:auto;min-height:100vh;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,#05060a,#071026);color:#e6eef8}.card[data-astro-cid-4s5fvigf]{box-shadow:0 6px 20px #030712b3,0 2px 6px #02060c99}.btn-primary[data-astro-cid-4s5fvigf]{background-image:linear-gradient(90deg,var(--accent),var(--accent-600))}.focus-ring[data-astro-cid-4s5fvigf]:focus{outline:3px solid rgba(209,176,155,.18);outline-offset:2px}textarea[data-astro-cid-4s5fvigf],input[data-astro-cid-4s5fvigf]{color:#e6eef8}textarea[data-astro-cid-4s5fvigf][readonly],input[data-astro-cid-4s5fvigf][readonly]{background:transparent}
:root{--accent: #d1b09b}
</style></head> <body class="bg-gray-900 text-white min-h-screen" data-astro-cid-kqx5um5x> <div id="auth-guard" data-astro-cid-kqx5um5x>  <div class="p-4 sm:p-8 max-w-7xl mx-auto"> <header class="flex justify-between items-center mb-6"> <h1 class="text-3xl font-bold text-white">Dashboard Admin</h1> <button onclick="window.logout()" class="bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors text-sm"> <i class="fas fa-sign-out-alt mr-1"></i> Logout
</button> </header> <div class="flex space-x-2 sm:space-x-4 mb-6" role="tablist"> <button id="tab-generator" data-target="content-generator" class="tab-btn bg-accent text-gray-900 font-semibold py-2 px-4 rounded-lg shadow-md transition-colors" role="tab" aria-selected="true">
ðŸ”— Generator Link
</button> <button id="tab-rsvp" data-target="content-rsvp" class="tab-btn bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors" role="tab" aria-selected="false">
ðŸ’¬ Data RSVP & Chat
</button> </div> <div id="content-generator" class="tab-content" role="tabpanel" aria-labelledby="tab-generator"> <main class="max-w-2xl w-full mx-auto card bg-[color:var(--card)] rounded-2xl p-6 md:p-10 border border-transparent" role="main" data-astro-cid-4s5fvigf> <header class="flex items-center gap-4 mb-6" data-astro-cid-4s5fvigf> <div class="rounded-full bg-gradient-to-br from-[#112033] to-[#0b1626] p-3 flex items-center justify-center text-2xl" data-astro-cid-4s5fvigf> <i class="fas fa-ring text-[color:var(--accent)]" data-astro-cid-4s5fvigf></i> </div> <div data-astro-cid-4s5fvigf> <h1 class="text-2xl md:text-3xl font-semibold" data-astro-cid-4s5fvigf>Pembuat Tautan Undangan</h1> <p class="text-sm text-[color:var(--muted)] mt-1" data-astro-cid-4s5fvigf>
Untuk undangan pernikahan â€” buat tautan per nama & share cepat ke WhatsApp
</p> </div> </header> <section class="space-y-6" data-astro-cid-4s5fvigf> <div data-astro-cid-4s5fvigf> <label for="base-url" class="text-sm font-medium text-[color:var(--muted)]" data-astro-cid-4s5fvigf>
1. URL Dasar (Alamat Undangan Anda)
</label> <input id="base-url" type="url" inputmode="url" class="mt-2 w-full p-3 bg-transparent border border-gray-700 rounded-lg focus-ring" placeholder="Misal: https://nama-proyek-anda.vercel.app/" value="http://localhost:4321" data-astro-cid-4s5fvigf> </div> <div data-astro-cid-4s5fvigf> <label for="guest-name" class="text-sm font-medium text-[color:var(--muted)]" data-astro-cid-4s5fvigf>
2. Masukkan Nama Tamu
</label> <input id="guest-name" type="text" class="mt-2 w-full p-3 bg-transparent border border-gray-700 rounded-lg focus-ring" placeholder="Contoh: Keluarga Besar Budi Wijaya" data-astro-cid-4s5fvigf> </div> <input id="slug" type="hidden" value="tia-yoga" data-astro-cid-4s5fvigf> <div data-astro-cid-4s5fvigf> <label for="bride-groom" class="text-sm font-medium text-[color:var(--muted)]" data-astro-cid-4s5fvigf>
3. Nama Mempelai
</label> <input id="bride-groom" type="text" class="mt-2 w-full p-3 bg-transparent border border-gray-700 rounded-lg focus-ring" placeholder="Contoh: Budi & Sari" value="Tia &#38; Yoga" data-astro-cid-4s5fvigf> </div> <div data-astro-cid-4s5fvigf> <label for="wa-template" class="text-sm font-medium text-[color:var(--muted)]" data-astro-cid-4s5fvigf>
4. Template Pesan WhatsApp (bisa diedit)
</label> <textarea id="wa-template" rows="6" class="mt-2 w-full max-h-80 p-3 bg-transparent border border-gray-700 rounded-lg focus-ring text-sm" data-astro-cid-4s5fvigf>        Assalamualaikum / Halo *[NAMA_TAMU]*

Dengan hormat,

Dengan penuh kebahagiaan,
kami mengundang Bapak/Ibu/Saudara/i
untuk hadir pada acara pernikahan kami.

Silakan buka undangan digital pada tautan berikut:
[LINK_UNDANGAN]

Merupakan suatu kebahagiaan bagi kami apabila Bapak/Ibu/Saudara/i berkenan untuk hadir dan memberikan doa restu.âœ¨

Mohon konfirmasi kehadiran Anda. Terima kasih.

_Mohon maaf perihal undangan hanya dibagikan melalui pesan ini_

Salam hangat,
Tia &amp; Yoga</textarea> <p class="text-xs text-[color:var(--muted)] mt-2" data-astro-cid-4s5fvigf>
Gunakan <code data-astro-cid-4s5fvigf>[NAMA_TAMU]</code>, <code data-astro-cid-4s5fvigf>[LINK_UNDANGAN]</code>, dan
<code data-astro-cid-4s5fvigf>[COUPLE]</code> sebagai placeholder.
</p> </div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3" data-astro-cid-4s5fvigf> <button id="generate-button" class="btn-primary text-black font-semibold py-3 px-4 rounded-lg shadow-sm hover:opacity-95 focus-ring flex items-center justify-center gap-2" data-astro-cid-4s5fvigf> <i class="fas fa-magic" data-astro-cid-4s5fvigf></i> Buat Tautan Undangan
</button> <button id="save-template" class="border border-gray-700 text-[color:var(--accent)] font-semibold py-3 px-4 rounded-lg hover:bg-[rgba(209,176,155,0.04)] focus-ring flex items-center justify-center gap-2" data-astro-cid-4s5fvigf> <i class="fas fa-save" data-astro-cid-4s5fvigf></i> Simpan Template
</button> </div> </section> </main> <div id="result-modal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm" data-astro-cid-4s5fvigf> <div id="result-container-modal" class="bg-[color:var(--card)] w-full max-w-lg rounded-xl shadow-2xl p-6 md:p-8 transform scale-95 transition-all duration-300 relative" data-astro-cid-4s5fvigf> <button id="modal-close-button" class="absolute top-3 right-3 text-[color:var(--muted)] hover:text-white transition" aria-label="Tutup Modal" data-astro-cid-4s5fvigf> <i class="fas fa-times text-xl" data-astro-cid-4s5fvigf></i> </button> <h3 class="text-lg font-medium mb-3 text-white" data-astro-cid-4s5fvigf>Tautan Siap:</h3> <label class="text-sm text-[color:var(--muted)]" data-astro-cid-4s5fvigf>Tautan yang dihasilkan</label> <textarea id="generated-link" readonly rows="2" class="w-full p-3 bg-transparent border border-gray-700 rounded-lg text-sm text-[color:var(--accent)]" data-astro-cid-4s5fvigf></textarea> <div class="flex gap-3 mt-3" data-astro-cid-4s5fvigf> <button id="copy-button" class="w-1/2 bg-[color:var(--success)] hover:opacity-95 font-medium py-2 px-3 rounded-lg focus-ring text-black flex items-center justify-center gap-2" data-astro-cid-4s5fvigf> <i class="fas fa-copy" data-astro-cid-4s5fvigf></i> Salin Tautan
</button> <button id="open-button" class="w-1/2 border border-gray-700 text-[color:var(--accent)] py-2 px-3 rounded-lg hover:bg-[rgba(209,176,155,0.04)] focus-ring flex items-center justify-center gap-2" data-astro-cid-4s5fvigf> <i class="fas fa-external-link-alt" data-astro-cid-4s5fvigf></i> Buka Tautan
</button> </div> <div class="mt-4 border-t border-gray-700 pt-4" data-astro-cid-4s5fvigf> <label class="text-sm text-[color:var(--muted)]" data-astro-cid-4s5fvigf>Template Pesan WhatsApp (Preview)</label> <textarea id="wa-template-preview" rows="6" class="mt-2 w-full p-3 bg-transparent border border-gray-700 rounded-lg text-sm" readonly data-astro-cid-4s5fvigf></textarea> <div class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3" data-astro-cid-4s5fvigf> <button id="wa-share-button" class="bg-[#25D366] hover:opacity-95 text-black font-semibold py-2 px-4 rounded-lg flex items-center justify-center gap-2 focus-ring" data-astro-cid-4s5fvigf> <i class="fab fa-whatsapp" data-astro-cid-4s5fvigf></i> Share ke WhatsApp
</button> <button id="wa-copy-message-button" class="border border-gray-700 text-[color:var(--accent)] py-2 px-4 rounded-lg hover:bg-[rgba(209,176,155,0.04)] focus-ring flex items-center justify-center gap-2" data-astro-cid-4s5fvigf> <i class="fas fa-comment-dots" data-astro-cid-4s5fvigf></i> Salin Pesan
</button> </div> </div> </div> </div> <div id="toast-notification" class="fixed top-0 left-0 right-0 py-4 px-6 shadow-xl text-white opacity-0 transition-opacity duration-500 z-[110] pointer-events-none" role="alert" data-astro-cid-4s5fvigf> <div class="max-w-xl mx-auto flex items-center space-x-2" data-astro-cid-4s5fvigf> <i id="toast-icon" class="fas fa-check-circle text-xl" data-astro-cid-4s5fvigf></i> <span id="toast-message" class="font-semibold" data-astro-cid-4s5fvigf></span> </div> </div> <script type="module">function o(e,t="success"){const n=document.getElementById("toast-notification"),s=document.getElementById("toast-message"),l=document.getElementById("toast-icon");if(!n||!s||!l)return;let a="bg-green-500",c="fas fa-check-circle";t==="error"?(a="bg-red-500",c="fas fa-times-circle"):t==="info"&&(a="bg-blue-500",c="fas fa-info-circle"),n.classList.remove("bg-green-500","bg-red-500","bg-blue-500"),n.classList.add(a),s.textContent=e,l.className=c+" text-xl",n.classList.remove("opacity-0","pointer-events-none"),n.classList.add("opacity-100"),setTimeout(()=>{n.classList.remove("opacity-100"),n.classList.add("opacity-0","pointer-events-none")},4e3)}async function g(e){try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(e),!0;const t=document.createElement("textarea");return t.value=e,t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),!0}catch{return!1}}function E(e){return String(e||"").toLowerCase().trim().normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function w(e){return String(e||"").trim().replace(/\s+/g,"").replace(/\/+$/,"")}function B(e,t,n,s){return e.replaceAll("[NAMA_TAMU]",t).replaceAll("[LINK_UNDANGAN]",n).replaceAll("[COUPLE]",s||"")}const i=document.getElementById("result-modal"),r=document.getElementById("result-container-modal"),L=document.getElementById("modal-close-button");function h(){i.classList.remove("hidden"),setTimeout(()=>{r.classList.remove("scale-95"),r.classList.add("scale-100"),d.focus()},10)}function y(){r.classList.remove("scale-100"),r.classList.add("scale-95"),setTimeout(()=>{i.classList.add("hidden")},300)}const m=document.getElementById("base-url"),f=document.getElementById("guest-name"),b=document.getElementById("slug"),p=document.getElementById("bride-groom"),u=document.getElementById("wa-template"),k=document.getElementById("generate-button"),C=document.getElementById("save-template"),d=document.getElementById("generated-link"),v=document.getElementById("wa-template-preview"),T=document.getElementById("copy-button"),_=document.getElementById("open-button"),A=document.getElementById("wa-share-button"),M=document.getElementById("wa-copy-message-button");try{const e=localStorage.getItem("invite_base_url");e&&(m.value=e);const t=localStorage.getItem("invite_wa_template");t&&(u.value=t)}catch{}function I(){const e=p.value.trim();let t=E(e);t||(t="undangan-manten"),b.value=t}I();p.addEventListener("input",I);k.addEventListener("click",async()=>{const e=w(m.value),t=f.value.trim(),n=p.value.trim(),s=u.value;let l=b.value.trim();if(l||(l="undangan-manten"),!e||!t){o("Mohon isi URL Dasar dan Nama Tamu.","error");return}try{localStorage.setItem("invite_base_url",m.value),localStorage.setItem("invite_wa_template",u.value)}catch{}const a=`${e}/${l}?to=${encodeURIComponent(t)}`,c=B(s,t,a,n);d.value=a,v.value=c,h(),await g(a)?o("Tautan berhasil digenerate & disalin otomatis!","success"):o("Tautan berhasil digenerate, gagal menyalin.","info")});L.addEventListener("click",y);i.addEventListener("click",e=>{e.target===i&&y()});T.addEventListener("click",async()=>{await g(d.value)&&o("Tautan berhasil disalin ke clipboard!","success")});_.addEventListener("click",()=>{window.open(d.value,"_blank")});A.addEventListener("click",()=>{const e=v.value,t="https://wa.me/?text="+encodeURIComponent(e);window.open(t,"_blank")});M.addEventListener("click",async()=>{await g(v.value)&&o("Pesan WhatsApp berhasil disalin!","success")});C.addEventListener("click",()=>{try{localStorage.setItem("invite_wa_template",u.value),o("Template pesan disimpan di browser.","success")}catch{o("Gagal menyimpan template.","error")}});f.focus();</script> </div> <div id="content-rsvp" class="tab-content hidden" role="tabpanel" aria-labelledby="tab-rsvp"> <div class="bg-gray-800 p-6 rounded-xl shadow-lg h-full"> <h3 class="text-xl font-medium mb-4 text-accent">Data Tamu & RSVP Realtime</h3> <div class="space-y-4"> <div class="bg-gray-700 p-3 rounded-lg"> <h4 class="font-semibold text-lg mb-2">Statistik Kehadiran</h4> <div id="rsvp-stats" class="text-sm"> <div class="flex justify-between py-1 border-b border-gray-600"> <span>Total Respon:</span> <span id="total-respon" class="font-bold">0</span> </div> <div class="flex justify-between py-1 border-b border-gray-600"> <span class="text-green-400">Hadir (Status 'Hadir'):</span> <span id="total-hadir" class="font-bold text-green-400">0</span> </div> <div class="flex justify-between py-1 border-b border-gray-600"> <span class="text-red-400">Tidak Hadir (Status 'Tidak Hadir'):</span> <span id="total-tidak-hadir" class="font-bold text-red-400">0</span> </div> <div class="flex justify-between py-1 pt-2"> <span class="text-yellow-400">Pesan/Ucapan:</span> <span id="total-pesan" class="font-bold text-yellow-400">0</span> </div> </div> </div> <h4 class="font-semibold text-lg pt-2">Daftar Respon Tamu</h4> <div id="rsvp-list" class="space-y-2 max-h-96 overflow-y-auto pr-2"> <p class="text-gray-400 text-sm text-center py-4">Memuat data dari Firebase...</p> </div> </div> </div> <script type="module">const i=document.getElementById("rsvp-list"),m=document.getElementById("total-respon"),u=document.getElementById("total-hadir"),g=document.getElementById("total-tidak-hadir"),p=document.getElementById("total-pesan");function x(t){return t&&t.includes("Hadir")?"bg-green-600/50 text-green-300":t&&t.includes("Tidak Hadir")?"bg-red-600/50 text-red-300":"bg-yellow-600/50 text-yellow-300"}function b(t){i.innerHTML="";let n=0,a=0,l=0,r=0;Object.values(t).sort((e,s)=>s.timestamp-e.timestamp).forEach(e=>{l++;const s=x(e.status),c=e.timestamp?new Date(e.timestamp).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown Date";e.status&&e.status.includes("Hadir")?n++:e.status&&e.status.includes("Tidak Hadir")&&a++,e.message&&e.message.trim()!==""&&r++;const o=document.createElement("div");o.className="bg-gray-900 p-3 rounded-lg border-l-4 border-accent",o.innerHTML=`
                <div class="flex justify-between items-start mb-2">
                    <span class="text-base font-semibold text-white">${e.name||"Nama Tamu"}</span>
                    <span class="px-2 py-0.5 text-xs font-semibold rounded ${s}">
                        ${e.status||"Belum Respon"}
                    </span>
                </div>
                <p class="text-sm text-gray-400 mb-2">
                    ${e.message?e.message:"â€” Tanpa Ucapan â€”"}
                </p>
                <div class="flex justify-between text-xs text-gray-500">
                    <span>ðŸ‘¥ Jumlah: ${e.count||1} orang</span>
                    <span>ðŸ•’ ${c}</span>
                </div>
            `,i.appendChild(o)}),m.textContent=l,u.textContent=n,g.textContent=a,p.textContent=r}function d(){const t=window.db;typeof t<"u"?t.ref("rsvp").orderByChild("timestamp").on("value",n=>{const a=n.val()||{};b(a)},n=>{console.error("Firebase Read Error:",n),i.innerHTML='<p class="text-red-400 text-center py-4">Gagal memuat data dari Firebase. Cek koneksi & aturan Realtime DB.</p>'}):(console.error("FIREBASE INIT FAILED: window.db is not set. Trying again in 500ms."),setTimeout(d,500))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",d):d();</script> </div> </div>  </div> <script type="module" src="/_astro/DashboardLayout.astro_astro_type_script_index_0_lang.BAMecFAX.js"></script> <script>(function(){const SESSION_KEY = "auth_token_secret";
const SLUG = "dashboard";

      const checkAuth = () => {
        const token = localStorage.getItem(SESSION_KEY)
        if (!token) {
          window.location.href = `/dashboard/login`
        }
      }

      checkAuth()

      window.logout = () => {
        localStorage.removeItem(SESSION_KEY)
        window.location.href = `/dashboard/login`
      }
    })();</script> </body> </html> <script type="module">document.addEventListener("DOMContentLoaded",()=>{const s=document.querySelectorAll(".tab-btn"),a=document.querySelectorAll(".tab-content");s.forEach(t=>{t.addEventListener("click",()=>{const r=t.dataset.target;s.forEach(e=>{e.classList.remove("bg-accent","text-gray-900"),e.classList.add("bg-gray-700","text-white","hover:bg-gray-600"),e.setAttribute("aria-selected","false")}),t.classList.remove("bg-gray-700","text-white","hover:bg-gray-600"),t.classList.add("bg-accent","text-gray-900"),t.setAttribute("aria-selected","true"),a.forEach(e=>{e.id===r?e.classList.remove("hidden"):e.classList.add("hidden")})})})});</script>